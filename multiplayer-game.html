<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Multiplayer Game - Chess Game</title>
  <link rel="icon" href="Unblocked-Chess Favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="game-container">
    <!-- Game Header -->
    <div class="game-header">
      <div class="game-info">
        <h1>Multiplayer Chess</h1>
        <div class="game-meta">
          <span id="game-number">Game 1</span>
          <span id="total-games">of 1</span>
        </div>
      </div>
      <div class="game-controls">
        <button id="flip-board-btn" class="control-btn">üîÑ Flip Board</button>
        <button id="resign-btn" class="control-btn">üè≥Ô∏è Resign</button>
        <button id="leave-game-btn" class="control-btn">üö™ Leave Game</button>
      </div>
    </div>

    <!-- Main Game Area -->
    <div class="game-main">
      <!-- Left Sidebar -->
      <div class="game-sidebar left">
        <div class="player-info">
          <div class="player-card" id="white-player">
            <div class="player-avatar">‚ôî</div>
            <div class="player-details">
              <h3 id="white-player-name">White Player</h3>
              <p id="white-player-role">Host</p>
            </div>
            <div class="player-status" id="white-status">
              <span class="status-indicator"></span>
            </div>
          </div>
        </div>
        
        <div class="game-stats">
          <h4>Game Statistics</h4>
          <div class="stat-item">
            <label>Moves:</label>
            <span id="move-count">0</span>
          </div>
          <div class="stat-item">
            <label>Time:</label>
            <span id="game-time">00:00</span>
          </div>
        </div>
      </div>

      <!-- Chess Board -->
      <div class="board-container">
        <div class="chess-board" id="chess-board">
          <!-- Board will be generated by JavaScript -->
        </div>
        
        <!-- Game Status -->
        <div class="game-status" id="game-status">
          <div class="status-message">
            <span id="current-turn">White to move</span>
          </div>
        </div>
      </div>

      <!-- Right Sidebar -->
      <div class="game-sidebar right">
        <div class="player-info">
          <div class="player-card" id="black-player">
            <div class="player-avatar">‚ôö</div>
            <div class="player-details">
              <h3 id="black-player-name">Black Player</h3>
              <p id="black-player-role">Guest</p>
            </div>
            <div class="player-status" id="black-status">
              <span class="status-indicator"></span>
            </div>
          </div>
        </div>
        
        <div class="move-history">
          <h4>Move History</h4>
          <div class="moves-list" id="moves-list">
            <!-- Moves will be added here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Game Footer -->
    <div class="game-footer">
      <div class="room-info">
        <span>Room: <strong id="room-id">-</strong></span>
        <span id="room-code-display" style="display: none;">Code: <strong id="room-code">-</strong></span>
      </div>
      <div class="game-actions">
        <button id="offer-draw-btn" class="action-btn secondary">Offer Draw</button>
        <button id="undo-move-btn" class="action-btn secondary" disabled>Undo Move</button>
      </div>
    </div>
  </div>

  <!-- Game Over Modal -->
  <div id="game-over-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="game-over-title">Game Over</h2>
      </div>
      <div class="modal-body">
        <div class="game-result">
          <p id="game-over-message">Game ended</p>
          <div class="result-details">
            <div class="result-item">
              <label>Winner:</label>
              <span id="winner">-</span>
            </div>
            <div class="result-item">
              <label>Reason:</label>
              <span id="end-reason">-</span>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="next-game-btn" class="action-btn primary" style="display: none;">Next Game</button>
        <button id="finish-match-btn" class="action-btn primary">Finish Match</button>
        <button id="rematch-btn" class="action-btn secondary">Rematch</button>
      </div>
    </div>
  </div>

  <!-- Draw Offer Modal -->
  <div id="draw-offer-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Draw Offer</h3>
      </div>
      <div class="modal-body">
        <p id="draw-offer-message">Your opponent has offered a draw.</p>
      </div>
      <div class="modal-footer">
        <button id="accept-draw-btn" class="action-btn primary">Accept</button>
        <button id="decline-draw-btn" class="action-btn secondary">Decline</button>
      </div>
    </div>
  </div>

  <script src="multiplayer-server.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chess.js@0.10.3/chess.js"></script>
  <script src="multiplayer-game.js"></script>
</body>
</html>
